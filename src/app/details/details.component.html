<div class="container">

    <!-- <div class="left-column">
        <div class="ad">
          <img [src]="products[0].image" alt="Ad">
        </div>
        <div class="ad">
          <button>Schedule Learning</button>
        </div>
    </div> -->
    <div class="right-column">

      <div class="ad">
        <div class="product-image">
          <img [src]="drivingSchools.photoUrl" alt="Ad">
        </div>

        <div class="post">

          <div class="product-name">{{schoolName}}</div>
          <div class="short-location">{{drivingSchools.locality}},{{drivingSchools.city}}</div>
          <div class="star-rating">
            <span *ngFor="let star of [1, 2, 3, 4, 5]; let i = index">
              <!-- Full stars -->
              <span *ngIf="i < floor(drivingSchoolRating)" class="filled">‚òÖ</span>
              <!-- Half star -->
              <span *ngIf="i === floor(drivingSchoolRating) && drivingSchoolRating % 1 >= 0.5" class="half-filled">‚òÖ</span>
              <!-- Empty stars -->
              <span *ngIf="i >= ceil(drivingSchoolRating)" class="empty">‚òÖ</span>
            </span>
          </div>
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

          <div class="map-button" (click)="openInNewTab(drivingSchools.googleMapLink)">
            <div class="map-box">
              <i class="fas fa-map-marker-alt map-icon"></i>
            </div>
            <p>{{drivingSchools.address}}</p>
          </div>

          <div class="call-button">
            <button (click)="copyPhoneNumber()">
              <i class="fas fa-phone call-icon"></i>
              <span class="map-text">{{drivingSchools.phoneNumber}}</span>
            </button>
          </div>
          <div class="schedulling">

            <div class="schedule-button" (click)="showBooking()">
              <button>
                <i class="fas fa-calendar-check"></i>
                Schedule Now</button>
            </div>
            <div *ngIf="isBooking" class="booking">
              <div class="filter-actions">
                <button class="apply" (click)="applyFilters()">Apply Filters</button>
                <button class="close" (click)="closeDropdown()">Close</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="card">
        <div class="image-container">
          <img [src]="products[0].image" alt="Driving School">
          <div class="overlay">
            <div class="school-name">Driving School name 4</div>
            <div class="location">(Nallagandla)</div>
            <div class="info">
              <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

              <i class="fas fa-map-marker-alt icon"></i>
              <span>This is the address to the driving school</span>
            </div>
            <div class="contact">
              <i class="fas fa-phone-alt icon"></i>
              <span>7754949623</span>
            </div>
          </div>
        </div>
        <div class="schedule-button">
          <button>Schedule Now</button>
        </div>
      </div> -->
      
      

      <div class="circle-list">
        <div class="circle-card" *ngFor="let service of services">
          <div class="circle-icon">
            <i class="fas fa-car"></i>
          </div>
          <div class="circle-content">
            <h3>{{ service.name }}</h3>
            <p class="circle-price">{{ service.price }}</p>
          </div>
        </div>
      </div>
      
      <div class="instructions">
        <div class="instructions-heading">About Driving School</div>
        <div class="rule-list">
          <div class="rule-item" *ngFor="let rule of instructions">
            <!-- <i class="fas fa-check-circle rule-icon"></i> -->
            <i class="fas fa-hand-point-right rule-icon"></i>
            <div class="rule-text">{{ rule.rule }}</div>
          </div>
        </div>
      </div>
      
      <!-- <div class="reviews">
        <div class="review-heading">Ratings & Reviews</div>
        <div class="list-rating-review">
            <div class="review-card" *ngFor="let review of reviews">
              <h4>{{ review.author_name }}</h4>
              <p><strong>Customer Rating:</strong> {{ review.rating }} / 5</p>
              <p>{{ review.text }}</p>
            </div>
        </div>          
      </div> -->

      <div class="reviews">
        <div class="review-heading">Ratings & Reviews</div>
        <div class="review-controls">
          <button (click)="sortByRating()">Sort by Rating</button>
          <button (click)="toggleFilters()">Filters</button>
        </div>
        <div *ngIf="showFilters" class="filters">
          <button *ngFor="let star of [5, 4, 3, 2, 1]" (click)="filterByRating(star)">
            Show {{ star }}-star reviews
          </button>
        </div>
        <div class="list-rating-review">
          <div class="review-card" *ngFor="let review of filteredReviews" (mouseenter)="hover = review" (mouseleave)="hover = null">
            <div class="review-header">
              <img [src]="review.profile_photo_url" alt="Profile Photo" class="profile-photo" />
              <h4>
                <a>{{ review.author_name }}</a>
              </h4>
            </div>
            <!-- <p><strong>Customer Rating:</strong> {{ review.rating }} / 5</p> -->
            <div class="star-rating">
              <span *ngFor="let star of [1, 2, 3, 4, 5]; let i = index" [class.filled]="i < review.rating">
                ‚òÖ
              </span>
            </div>
            <div>{{convertTimestamp(review.time)}} | {{review.relative_time_description}}</div>
            
            <!-- <span *ngIf="review.text.length > 500">...<a href="#" (click)="expandReview($event, review)">Read More</a></span> -->
            <p>{{ review.text }}</p>
            <div class="review-actions">
              <button (click)="likeReview(review)">üëç</button>
              <button (click)="dislikeReview(review)">üëé</button>
            </div>
          </div>
        </div>
        <div class="redirect-button">
          <button (click)="redirectToGoogleReviews()">See All Reviews on Google</button>
        </div>
      </div>
      
    </div>

    <!-- <router-outlet></router-outlet> -->
  


</div>
  